import { ServerStyleSheet } from 'styled-components';

async function ssrCollector() {
  const sheet = new ServerStyleSheet();
  return {
    collect(app) {
      return sheet.collectStyles(app);
    },
    toString() {
      return sheet.getStyleTags();
    },
    cleanup() {
      sheet.seal();
    }
  };
}

export { ssrCollector as default };
